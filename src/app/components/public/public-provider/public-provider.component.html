<div class="service-list-page">
  <!-- Preview mode banner -->
  <div *ngIf="isOwnProviderPage" class="preview-mode-banner">
      <div class="container">
          <p>VORSCHAUMODUS: Sie sehen Ihre eigene Buchungsseite als Anbieter.</p>
      </div>
  </div>

  <!-- Header Section with Banner Image -->
  <div class="header-section">
      <div class="container">
          <div class="header-content">
              <!-- Provider logo/avatar and name -->
              <div class="provider-header-info">
                  <div class="provider-avatar">
                      <div *ngIf="!provider || !provider.logo" class="avatar-placeholder">{{ getProviderInitials() }}</div>
                      <img *ngIf="provider && provider.logo" [src]="provider.logo" [alt]="provider?.businessName">
                  </div>
                  <div class="provider-title">
                      <h1 class="page-title">{{ provider?.businessName || 'Beauty Salon' }}</h1>
                      <p class="subtitle">Online Termin buchen</p>
                  </div>
              </div>
              
              <!-- Login/Profile button -->
              <div class="header-actions">
                  <button *ngIf="!isLoggedIn" class="btn-login" (click)="handleLogin()">Login</button>
                  <a *ngIf="isLoggedIn && !isOwnProviderPage" class="btn-profile" (click)="navigateToProfile()">Mein Profil</a>
                  <a *ngIf="isLoggedIn && isOwnProviderPage" class="btn-dashboard" (click)="navigateToDashboard()">Zum Dashboard</a>
              </div>
          </div>
      </div>
  </div>

  <!-- Provider Info Section -->
  <div class="provider-section">
      <div class="container">
          <div class="provider-card">
              <div class="provider-info">
                  <div class="provider-details">
                      <p class="provider-description">{{ provider?.description || 'Beschreibung des Anbieters wird geladen...' }}</p>
                      <div class="provider-meta">
                          <div class="meta-item">
                              <span class="icon">🕒</span>
                              <span>{{ provider?.openingHours || 'Öffnungszeiten werden geladen...' }}</span>
                          </div>
                          <div class="meta-item" *ngIf="provider && provider.address">
                              <span class="icon">📍</span>
                              <span>{{ provider.address }}</span>
                          </div>
                          <div class="meta-item" *ngIf="provider && provider.website">
                              <span class="icon">🌐</span>
                              <span>{{ provider.website }}</span>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- Services Section -->
  <div class="services-section">
      <div class="container">
          <div class="section-header">
              <h2 class="section-title">Verfügbare Dienstleistungen</h2>
              <p class="section-subtitle">
                  <ng-container *ngIf="services.length > 0">
                      {{ services.length }} Dienstleistungen für Ihre Buchung verfügbar
                  </ng-container>
                  <ng-container *ngIf="services.length === 0">
                      Es sind derzeit keine Dienstleistungen verfügbar
                  </ng-container>
              </p>
          </div>

          <!-- Services Grid -->
          <div class="services-grid" *ngIf="services.length > 0">
              <div *ngFor="let service of services" class="service-card" [attr.data-id]="service.id">
                  <!-- Service image -->
                  <div class="service-image">
                      <img *ngIf="service.image" [src]="service.image" [alt]="service.name">
                      <div *ngIf="!service.image" class="image-placeholder">✨</div>
                  </div>
                  
                  <!-- Service content -->
                  <div class="service-content">
                      <h3 class="service-name">{{ service.name }}</h3>
                      <p class="service-description">{{ service.description }}</p>
                      <div class="service-meta">
                          <div class="service-price">{{ formatCurrency(service.price) }}</div>
                          <div class="service-duration">{{ service.duration }} Min</div>
                      </div>
                      <button class="btn-select" (click)="selectService(service)">Auswählen</button>
                  </div>
              </div>
          </div>

          <!-- Empty State (will be shown if no services) -->
          <div *ngIf="services.length === 0" class="empty-state">
              <div class="empty-icon">📋</div>
              <h3>Keine Dienstleistungen gefunden</h3>
              <p>Der Anbieter hat noch keine Dienstleistungen hinzugefügt</p>
          </div>
      </div>
  </div>

  <!-- Reviews Section -->
  <div class="reviews-section">
      <div class="container">
          <div class="section-header">
              <h2 class="section-title">Kundenbewertungen</h2>
              <p class="section-subtitle">Das sagen unsere Kunden</p>
          </div>

          <!-- Reviews Grid -->
          <div class="reviews-grid" *ngIf="reviews.length > 0">
              <div *ngFor="let review of reviews" class="review-card">
                  <div class="review-header">
                      <div class="reviewer-name">{{ review.customerName }}</div>
                      <div class="review-date">{{ formatDate(review.createdAt) }}</div>
                  </div>
                  
                  <div class="review-rating">
                      <span *ngFor="let star of renderStars(review.rating)" 
                            class="star" 
                            [ngClass]="{'filled': star === 'filled', 'empty': star === 'empty'}">★</span>
                      <span class="rating-value">{{ review.rating }}/5</span>
                  </div>
                  
                  <p class="review-comment">{{ review.comment }}</p>
              </div>
          </div>

          <!-- Empty State for Reviews -->
          <div *ngIf="reviews.length === 0" class="reviews-empty">
              <div class="empty-icon">⭐</div>
              <h3>Noch keine Bewertungen</h3>
              <p>Seien Sie der Erste, der eine Bewertung hinterlässt</p>
          </div>
      </div>
  </div>

  <!-- Floating Booking Button -->
  <div class="floating-booking-container">
      <button class="floating-booking-btn" (click)="navigateToBooking()">
          <span class="booking-icon">📅</span>
          <span class="booking-text">Termin buchen</span>
      </button>
  </div>

  <!-- Success Message -->
  <div class="success-message" [class.show]="showSuccessMessage">
      {{ successMessage }}
  </div>
</div>